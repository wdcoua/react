{"version":3,"sources":["utils/validate/validator.js","components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormsControls.module.css","components/Login/Login.module.css","components/Login/Login.jsx"],"names":["required","value","length","maxLenCreator","maxLen","minLenCreator","minLen","FormControl","input","meta","touched","error","elType","props","hasError","className","styles","formControls","React","createElement","Textarea","Input","Hidden","type","FileUpload","createMyField","placeholder","component","name","validators","text","validate","module","exports","Login","onSubmit","email","pass","rememberMe","captcha","auth","isAuth","to","login","LoginReduxForm","LoginReduxForm2","maxLen50","minLen2","reduxForm","form","handleSubmit","style","noError","captchaDiv","capthaImg","noCaptcha","alt","src","checked","compose","connect","checkAuthorization"],"mappings":"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","file":"static/js/8.3433773d.chunk.js","sourcesContent":["export const required = value => {\n    if(value && value.length > 0) {\n        //console.log(value.length)\n        return undefined;\n    }\n    return 'required field';\n}\n\n\n\nexport const maxLenCreator = (maxLen) => (value) => {\n    if(value.length <= maxLen) return undefined;\n    return `max length ${maxLen} symbols`;\n}\n\nexport const minLenCreator = (minLen) => value => {\n    if(value.length >= minLen) return undefined;\n    return `min length ${minLen} symbols`;\n}\n\nexport const onlyNumbers = () => value => {\n    if(value.match(/[0-9]/)) return undefined;\n    return `i accept only numbers `;\n}\n\n","import React from 'react';\nimport styles from './FormsControls.module.css'\nimport {Field} from \"redux-form\";\nimport {required} from \"../../../utils/validate/validator\";\n\nconst FormControl = ({input, meta: {touched,error}, elType, ...props}) => {\n    let hasError = touched && error;\n\n    return (\n        <div className={styles.formControls + \" \" + (hasError && styles.error)}>\n\n            <div>\n                {React.createElement(elType, {/*type:'file', */...input, ...props})}\n            </div>\n            {hasError && <span> {error}</span>}\n        </div>\n    )\n}\n\n\n\nexport const Textarea = (props) => { // деструктуризація, REST-оператор\n    return <FormControl {...props} elType='textarea'/>\n}\n/*\nexport const Textarea = (props) => { // деструктуризація, REST-оператор\n    const {input, meta, ...restProps} = props;\n    return <FormControl {...props}>\n        <textarea {...input} {...restProps}/>\n    </FormControl>\n}*/\n/*\nexport const Input = (props) => { // деструктуризація, REST-оператор\n    const {input, meta, ...restProps} = props;\n    return <FormControl {...props}>\n        <input {...input} {...restProps}/>\n    </FormControl>\n}*/\n\nexport const Input = (props) => { // деструктуризація, REST-оператор\n    //const {input, meta, ...restProps} = props;\n    return <FormControl {...props} elType='input'/>\n}\nexport const Hidden = (props) => { // деструктуризація, REST-оператор\n    //const {input, meta, ...restProps} = props;\n    return <FormControl {...props} elType='input' type='hidden' />\n}\nexport const FileUpload = (props) => { // деструктуризація, REST-оператор\n    //const {input, meta, ...restProps} = props;\n    return <FormControl {...props} elType='input' type='file'/>\n}\n\n\nexport const createMyField = (placeholder,component,name,validators, props = {}, text = '') =>\n    (\n        <div>\n            <Field\n                placeholder={placeholder}\n                component={component}\n                name={name}\n                validate={validators}\n                {...props}\n            /> {text}\n        </div>\n    )\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControls\":\"FormsControls_formControls__MCv0m\",\"error\":\"FormsControls_error__9lcue\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"captchaDiv\":\"Login_captchaDiv__36ONs\",\"noCaptcha\":\"Login_noCaptcha__nLUEK\",\"error\":\"Login_error__17Wu6\",\"noError\":\"Login_noError__3IZw_\"};","import React, {useEffect} from \"react\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {connect} from \"react-redux\";\nimport {login, checkAuthorization} from \"../../redux/auth_reducer\";\nimport {Redirect} from \"react-router-dom\";\nimport {compose} from \"redux\";\nimport {createMyField, Hidden, Input} from \"../common/FormsControls/FormsControls\";\nimport {maxLenCreator, minLenCreator, onlyNumbers, required} from \"../../utils/validate/validator\";\nimport style from \"./Login.module.css\"\n\nconst LoginContainer = (props) => {\n\n    // useEffect(() => {\n    //     let p = this.props;\n    //     let s = this.state;\n    // },[])\n\n\n    return <Login {...props}/>\n}\n\n// class LoginContainer extends React.Component { // зробив для тесту, можна і без цього класу\n//\n//     componentDidUpdate(prevProps, prevState, snapshot) {\n//         let p = this.props;\n//         let s = this.state;\n//         //debugger\n//         // todo не працює при лог-ауті на сайті\n//     }\n//\n//     render() {\n//         return <Login {...this.props}/>\n//     }\n// }\n\nconst Login = (props) => {\n    const onSubmit = ({email,pass,rememberMe,captcha}) => { //formData\n        //\n        if (props.auth.isAuth === false) {\n            props.login(email, pass, rememberMe, captcha)\n        } else {\n            return <Redirect to={'/index'}/>\n        }\n        // console.log(formData)\n    }\n    return <div>\n        <h1>Авторизація</h1>\n        <LoginReduxForm onSubmit={onSubmit} {...props} /><br/>\n        <LoginReduxForm2 onSubmit={onSubmit} {...props} />\n    </div>\n}\nconst maxLen50 = maxLenCreator(50);\nconst minLen2 = minLenCreator(2);\n// const numOnly = onlyNumbers();\n\n\nconst LoginForm = ({auth, handleSubmit, error}) => {\n\n    if (auth.isAuth === false) {\n\n        return <form onSubmit={handleSubmit}>\n\n            <div className={(!error ? style.noError : '') + ' ' + style.error}>\n                {error}\n            </div>\n            {createMyField('email', Input, 'email', [required, maxLen50, minLen2],{value: 'test'})}\n            {createMyField('pass', Input, 'pass', [required, maxLen50, minLen2], {type: 'password'})}\n\n\n            <div className={style.captchaDiv + ' ' + (!auth.capthaImg ? style.noCaptcha : '')}>\n                <div>\n                    <img alt='captcha' src={auth.capthaImg ? auth.capthaImg : ''}/>\n                </div>\n                {createMyField('cAp7cH4', Input, 'captcha', (!auth.capthaImg ? [] : [required, maxLen50, minLen2]))}\n            </div>\n\n            {createMyField(null, Input, 'rememberMe', [], {type: 'checkbox',checked: 'checked'}, \"Remember me\")}\n            <div>\n                <button>Log in</button>\n            </div>\n        </form>\n    } else {\n        return <Redirect to={'/index'}/>\n    }\n\n\n}\nconst LoginForm2 = ({auth, handleSubmit, error}) => {\n\n    if (auth.isAuth === false) {\n\n        return <form onSubmit={handleSubmit}>\n\n            <div className={(!error ? style.noError : '') + ' ' + style.error}>\n                {error}\n            </div>\n            {createMyField(null, Hidden, 'email', [],{value: 'free@samuraijs.com'})}\n            {createMyField(null, Hidden, 'pass', [], {value: 'free'})}\n\n\n            <div className={style.captchaDiv + ' ' + (!auth.capthaImg ? style.noCaptcha : '')}>\n                <div>\n                    <img alt='captcha' src={auth.capthaImg ? auth.capthaImg : ''}/>\n                </div>\n                {createMyField('cAp7cH4', Input, 'captcha', (!auth.capthaImg ? [] : [required, maxLen50, minLen2]))}\n            </div>\n\n            {createMyField(null, Hidden, 'rememberMe', [], {value: true} )}\n            <div>\n                <button>Log in for test</button>\n            </div>\n        </form>\n    } else {\n        return <Redirect to={'/index'}/>\n    }\n\n\n}\n\nconst LoginReduxForm = reduxForm({\n    form: 'auth'\n})(LoginForm)\nconst LoginReduxForm2 = reduxForm({\n    form: 'auth2'\n})(LoginForm2)\n\n\nconst mapStateToProps = ({auth}) => {\n    //debugger\n    return {\n        auth: auth,\n        //capthaImg: props.capthaImg\n    }\n};\n\nexport default compose(\n    connect(mapStateToProps, {login, checkAuthorization}),\n)(LoginContainer)\n\n//\n// export default () => {\n//     return <>\n//         <a href={`https://social-network.samuraijs.com/login`} target={`_blank`}>Потрібна авторизація</a>\n//     </>\n// }"],"sourceRoot":""}