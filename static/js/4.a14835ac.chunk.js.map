{"version":3,"sources":["utils/validate/validator.js","components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormsControls.module.css","components/hoc/withAuthRedirect.jsx","images/user.png","components/GuestBook/GuestBookSendForm/GuestBookSendForm.module.css","components/GuestBook/GuestBookPosts/Post/Post.module.css","components/GuestBook/GuestBookSendForm/GuestBookSendForm.jsx","components/GuestBook/GuestBookPosts/Post/Post.jsx","components/GuestBook/GuestBookPosts/GuestBookPosts.jsx","components/GuestBook/GuestBookContainer.jsx"],"names":["required","value","length","maxLenCreator","maxLen","concat","minLenCreator","minLen","FormControl","_ref","input","meta","touched","error","elType","props","hasError","React","createElement","className","styles","formControls","Textarea","Object","assign","Input","Hidden","type","createMyField","placeholder","component","name","validators","arguments","undefined","text","Field","validate","module","exports","mapStateToProps","auth","isAuth","withAuthRedirect","Component","connect","Redirect","to","maxLen150","minLen2","GbReduxForm","reduxForm","form","handleSubmit","onSubmit","c","gb_form_text","gb_form_button","GuestBookSendForm","gb_form","formData","onGBAddPost","new_gb_post","console","log","Post","id","login","time","email","gb_post","gb_post_body","href","src","defaultUserPhoto","ava","alt","gb_post_text","gb_post_date","gb_post_admin","GuestBookPosts","gbPosts","posts","map","p","key","status","compose","_ref2","gb","newPostText","getGbPosts","newGBpostChange","addGBPost","useEffect","onGBNewPostChange"],"mappings":"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","file":"static/js/4.a14835ac.chunk.js","sourcesContent":["export const required = value => {\n    if(value && value.length > 0) {\n        //console.log(value.length)\n        return undefined;\n    }\n    return 'required field';\n}\n\n\n\nexport const maxLenCreator = (maxLen) => (value) => {\n    if(value.length <= maxLen) return undefined;\n    return `max length ${maxLen} symbols`;\n}\n\nexport const minLenCreator = (minLen) => value => {\n    if(value.length >= minLen) return undefined;\n    return `min length ${minLen} symbols`;\n}\n\nexport const onlyNumbers = () => value => {\n    if(value.match(/[0-9]/)) return undefined;\n    return `i accept only numbers `;\n}\n\n","import React from 'react';\nimport styles from './FormsControls.module.css'\nimport {Field} from \"redux-form\";\nimport {required} from \"../../../utils/validate/validator\";\n\nconst FormControl = ({input, meta: {touched,error}, elType, ...props}) => {\n    let hasError = touched && error;\n    // console.log(props)\n    return (\n        <div className={styles.formControls + \" \" + (hasError && styles.error)}>\n\n            <div>\n                {React.createElement(elType, {/*type:'file', */...input, ...props})}\n            </div>\n            {hasError && <span> {error}</span>}\n        </div>\n    )\n}\n\n/*\n\nReact.createElement(\n    \"input\", {\n        className: \"rating-input\", type: \"radio\", name: \"rate\", value: \"1\", ref: \"rating\", onChange: this.handleChange\n    }\n),\n*/\n\n\nexport const Textarea = (props) => { // деструктуризація, REST-оператор\n    return <FormControl {...props} elType='textarea' />\n}\nexport const Radio = (props) => { // деструктуризація, REST-оператор\n    return <FormControl {...props} elType='input' type='radio'/>\n}\n/*\nexport const Textarea = (props) => { // деструктуризація, REST-оператор\n    const {input, meta, ...restProps} = props;\n    return <FormControl {...props}>\n        <textarea {...input} {...restProps}/>\n    </FormControl>\n}*/\n/*\nexport const Input = (props) => { // деструктуризація, REST-оператор\n    const {input, meta, ...restProps} = props;\n    return <FormControl {...props}>\n        <input {...input} {...restProps}/>\n    </FormControl>\n}*/\n\nexport const Input = (props) => { // деструктуризація, REST-оператор\n    //const {input, meta, ...restProps} = props;\n    return <FormControl {...props} elType='input'/>\n}\nexport const Hidden = (props) => { // деструктуризація, REST-оператор\n    //const {input, meta, ...restProps} = props;\n    return <FormControl {...props} elType='input' type='hidden' />\n}\nexport const FileUpload = (props) => { // деструктуризація, REST-оператор\n    //const {input, meta, ...restProps} = props;\n    return <FormControl {...props} elType='input' type='file'/>\n}\n\n\nexport const createMyField = (placeholder,component,name,validators, props = {}, text = '') =>\n    (\n        <div>\n            <Field\n                placeholder={placeholder}\n                component={component}\n                name={name}\n                validate={validators}\n                {...props}\n            /> {text}\n        </div>\n    )\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControls\":\"FormsControls_formControls__MCv0m\",\"error\":\"FormsControls_error__9lcue\"};","import React from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\n\nlet mapStateToProps = ({auth}) => {\n    return {\n        isAuth: auth.isAuth\n    }\n}\n\nexport const withAuthRedirect = (Component) => {\n\n    const RedirectComponent = (props) => {\n        if(!props.isAuth) return <Redirect to={'/login'}/>;\n        return <Component {...props} />;\n    }\n    /*\n    class RedirectComponent extends React.Component {\n        render() {\n            if(!this.props.isAuth) return <Redirect to={'/login'}/>;\n            return <Component {...this.props} />;\n        }\n    }*/\n\n    return connect(mapStateToProps)(RedirectComponent)\n}\n","module.exports = __webpack_public_path__ + \"static/media/user.d961d73a.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gb_form\":\"GuestBookSendForm_gb_form__2vqT-\",\"gb_form_text\":\"GuestBookSendForm_gb_form_text__1eS35\",\"gb_form_button\":\"GuestBookSendForm_gb_form_button__GkQ1X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gb_post\":\"Post_gb_post__2nwuZ\",\"name\":\"Post_name__3GSc_\",\"ava\":\"Post_ava__1v3o4\",\"gb_post_text\":\"Post_gb_post_text__2oHBV\",\"gb_post_date\":\"Post_gb_post_date__27A_s\",\"gb_post_admin\":\"Post_gb_post_admin__1ZWcY\",\"gb_post_body\":\"Post_gb_post_body__2xf_m\"};","import React from 'react';\nimport c from './GuestBookSendForm.module.css';\nimport {Field, reduxForm} from \"redux-form\";\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\nimport {maxLenCreator, minLenCreator, required} from \"../../../utils/validate/validator\";\n\nconst maxLen150 = maxLenCreator(150);\nconst minLen2 = minLenCreator(2);\n\nconst GbForm = ({handleSubmit}) => {\n\n    //let new_gb_post = React.createRef();\n\n/*\n    let onPostChange = (props) => {\n        debugger\n        let text = new_gb_post.current.value;\n        props.onGBNewPostChange(text);\n\n    }\n*/\n    return <form onSubmit={handleSubmit}>\n        <div>\n            <Field component={Textarea} name={'new_gb_post'}\n                   placeholder={'new GB post here'} className={c.gb_form_text}\n                    validate={[required,maxLen150,minLen2]}\n            />\n        </div>\n\n        <button className={c.gb_form_button} >Send</button>\n    </form>\n}\n/*\nlet addPost = (props) => {\n    props.onGBAddPost();\n    props.onGBNewPostChange('');\n\n}*/\n\nconst GbReduxForm = reduxForm({\n    form: 'gb_add_post'\n})(GbForm)\n\n\n\n\nconst GuestBookSendForm = (props) => {\n\n    const onSubmit = (formData) => {\n        /*\n        if(props.auth.isAuth === false){\n            props.login(formData.email,formData.pass,formData.rememberMe)\n        }else{\n            return <Redirect to={'/index'}/>\n        }\n        */\n        props.onGBAddPost(formData.new_gb_post);\n        console.log(formData)\n        formData.new_gb_post = '';\n    }\n\n    return (\n        <div className={c.gb_form}>\n          <GbReduxForm {...props} onSubmit={onSubmit} />\n        </div>\n    );\n}\n\nexport default GuestBookSendForm;","import React from 'react';\nimport c from './Post.module.css';\nimport defaultUserPhoto from '../../../../images/user.png'\n\nconst Post = ({id,login,text,time,email}) => {\n  return (\n      <div className={c.gb_post}>\n          <div className={c.gb_post_body}>\n              <a href={'user/'+id} className={c.name}>{login}<br/>\n                <img src={defaultUserPhoto} className={c.ava}  alt='alt'/>\n              </a>\n              <div className={c.gb_post_text}>{text}</div>\n          </div>\n\n          <div className={c.gb_post_date}>{time}<br/>{email}</div>\n          <div className={c.gb_post_admin}><a href={'editpost/'+id}>edit</a>|<a href={'delpost/'+id}>delete</a></div>\n\n      </div>\n  );\n}\n\nexport default Post;","import React from 'react';\nimport Post from \"./Post/Post\";\n\nconst GuestBookPosts = ({gbPosts}) => {\n\n    let posts =  gbPosts.map(p => <Post id={p.id}\n                                              key={p.id}\n                                              text={p.text}\n                                              login={p.login}\n                                              status={p.status}\n                                              time={p.time}\n                                              email={p.email}\n    />);\n\n    return (\n      <div >\n          {posts}\n      </div>\n  );\n}\n\nexport default GuestBookPosts;","import {\n    addGBPost,\n    getGbPosts, newGBpostChange,\n} from \"../../redux/gb_reducer\";\nimport {connect} from \"react-redux\";\nimport React, {useEffect} from \"react\";\nimport c from \"./GuestBook.module.css\";\nimport GuestBookSendForm from \"./GuestBookSendForm/GuestBookSendForm\";\nimport GuestBookPosts from \"./GuestBookPosts/GuestBookPosts\";\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\nconst GuestBookContainer = ({getGbPosts,newGBpostChange,addGBPost,newPostText,gbPosts}) => {\n    useEffect(() => {\n        getGbPosts();\n    },[]);\n\n    // let {newGBpostChange,addGBPost,newPostText,gbPosts} = this.props;\n    return (\n        <div className={c.gb}>\n            <GuestBookSendForm\n                onGBNewPostChange={newGBpostChange}\n                onGBAddPost={addGBPost}\n                newPostText={newPostText}\n            />\n\n            <GuestBookPosts gbPosts={gbPosts}/>\n        </div>\n    );\n}\n/*\nclass GuestBookContainer2 extends React.Component{\n\n    // let {getGbPosts,newGBpostChange,addGBPost,newPostText,gbPosts} => this.props;\n\n    componentDidMount = () => {\n        getGbPosts();\n    }\n\n    render = () => {\n        //if(this.props.isAuth === false) return <Redirect to={'/login'}/>;\n        let {newGBpostChange,addGBPost,newPostText,gbPosts} = this.props;\n        return (\n            <div className={c.gb}>\n                <GuestBookSendForm\n                    onGBNewPostChange={newGBpostChange}\n                    onGBAddPost={addGBPost}\n                    newPostText={newPostText}\n                />\n\n                <GuestBookPosts gbPosts={gbPosts}/>\n            </div>\n        );\n    }\n}*/\n\n\n\nfunction mapStateToProps({gb}) {\n    return {\n        newPostText: gb.newPostText,\n        gbPosts: gb.gbPosts,\n        //isAuth: state.auth.isAuth\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, {\n        getGbPosts,\n        newGBpostChange,\n        addGBPost,\n    }),\n    withAuthRedirect\n)(GuestBookContainer);\n\n\n"],"sourceRoot":""}